# services.yaml
create_reservation:
  description: Create a new reservation in DVSPortal. Either choose a known car (DvsCarSensor) or manually enter a license plate.
  fields:
    entry_id:
      description: "Select the DVSPortal registration."
      selector:
        config_entry:
          integration: dvsportal
    entity_id:
      selector:
        entity:
          filter:
            - integration: dvsportal
              domain: sensor
              device_class: dvs_car_sensor
    license_plate_value:
      description: "Or manually enter the license plate value for the reservation. üöó"
      example: "ABC123"
      selector:
        text: null
    license_plate_name:
      description: "Name associated with the license plate. üìù"
      example: "My Car"
      selector:
        text: null
    date_from:
      description: "Start date and time for the reservation. üóìÔ∏è"
      example: "2023-10-10T18:29:00"
      selector:
        datetime: null
    date_until:
      description: "End date and time for the reservation. ‚è∞"
      example: "2023-10-10T20:29:00"
      selector:
        datetime: null

end_reservation:
  description: Cancel an active or future reservation in DVSPortal.
  fields:
    entity_id:
      description: "Select the car (DvsCarSensor) whose reservation you want to cancel."
      selector:
        entity:
          filter:
          -  integration: dvsportal
             domain: sensor
             device_class: dvs_car_sensor
          multiple: false